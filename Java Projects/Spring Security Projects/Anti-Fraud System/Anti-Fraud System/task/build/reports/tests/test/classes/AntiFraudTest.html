<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class AntiFraudTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class AntiFraudTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/default-package.html">default-package</a> &gt; AntiFraudTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">1</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">47.708s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">start</td>
<td class="success">47.708s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>?[1;31m
Start test 1?[0m
?[0;34m
?[0m?[0;34m  .   ____          _            __ _ _
?[0m?[0;34m /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
?[0m?[0;34m( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
?[0m?[0;34m \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
?[0m?[0;34m  '  |____| .__|_| |_|_| |_\__, | / / / /
?[0m?[0;34m =========|_|==============|___/=/_/_/_/
?[0m?[0;34m :: Spring Boot ::                (v2.7.3)
?[0m?[0;34m
?[0m?[0;34m2023-03-17 16:57:53.129  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : Starting AntiFraudApplication using Java 17.0.5 on DESKTOP-JLPACN8 with PID 16028 (started by profile1 in C:\Users\profile1\IdeaProjects\Anti-Fraud System\Anti-Fraud System\task)
?[0m?[0;34m2023-03-17 16:57:53.133  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;
?[0m?[0;34m2023-03-17 16:57:54.560  INFO 16028 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
?[0m?[0;34m2023-03-17 16:57:54.656  INFO 16028 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 5 JPA repository interfaces.
?[0m?[0;34m2023-03-17 16:57:55.544  INFO 16028 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 28852 (http)
?[0m?[0;34m2023-03-17 16:57:55.560  INFO 16028 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
?[0m?[0;34m2023-03-17 16:57:55.560  INFO 16028 --- [    Test worker] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
?[0m?[0;34m2023-03-17 16:57:55.702  INFO 16028 --- [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
?[0m?[0;34m2023-03-17 16:57:55.703  INFO 16028 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2514 ms
?[0m?[0;34m2023-03-17 16:57:55.946  INFO 16028 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
?[0m?[0;34m2023-03-17 16:57:56.254  INFO 16028 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
?[0m?[0;34m2023-03-17 16:57:56.277  INFO 16028 --- [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2'. Database available at 'jdbc:h2:file:./service_db'
?[0m?[0;34m2023-03-17 16:57:56.535  INFO 16028 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
?[0m?[0;34m2023-03-17 16:57:56.631  INFO 16028 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
?[0m?[0;34m2023-03-17 16:57:56.903  INFO 16028 --- [    Test worker] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
?[0m?[0;34m2023-03-17 16:57:57.124  INFO 16028 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
?[0m?[0;34mHibernate: create table card (id bigint not null, max_allowed integer, max_manual integer, number varchar(255), primary key (id))
?[0m?[0;34mHibernate: create table stolen_card (id bigint not null, number varchar(255) not null, primary key (id))
?[0m?[0;34mHibernate: create table suspicious_ip (id bigint not null, ip varchar(255) not null, primary key (id))
?[0m?[0;34mHibernate: create table transaction (id bigint not null, amount bigint, date timestamp, feedback integer, ip varchar(255), number varchar(255), region integer, result integer, primary key (id))
?[0m?[0;34mHibernate: create table users (id bigint generated by default as identity, account_non_locked boolean, name varchar(255), password varchar(255), role integer, username varchar(255) not null, primary key (id))
?[0m?[0;34mHibernate: alter table card drop constraint if exists UK_492xmgvvn7qbnwhcvpr3yor6h
?[0m?[0;34mHibernate: alter table card add constraint UK_492xmgvvn7qbnwhcvpr3yor6h unique (number)
?[0m?[0;34mHibernate: alter table suspicious_ip drop constraint if exists idx_identity_ip_unq
?[0m?[0;34mHibernate: alter table suspicious_ip add constraint idx_identity_ip_unq unique (ip)
?[0m?[0;34mHibernate: alter table users drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
?[0m?[0;34mHibernate: alter table users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
?[0m?[0;34mHibernate: create sequence hibernate_sequence start with 1 increment by 1
?[0m?[0;34m2023-03-17 16:57:58.107  INFO 16028 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
?[0m?[0;34m2023-03-17 16:57:58.116  INFO 16028 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
?[0m?[0;34m2023-03-17 16:57:59.327  WARN 16028 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
?[0m?[0;34m2023-03-17 16:58:00.519  INFO 16028 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
?[0m?[0;34m2023-03-17 16:58:00.597  INFO 16028 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12dd3501, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cb0e39e, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c0989f7, org.springframework.security.web.header.HeaderWriterFilter@27f43664, org.springframework.web.filter.CorsFilter@650e6569, org.springframework.security.web.authentication.logout.LogoutFilter@feb57b4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@44233014, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68b4e7b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a88ecb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a10e65b, org.springframework.security.web.session.SessionManagementFilter@d4f2f3d, org.springframework.security.web.access.ExceptionTranslationFilter@661d49d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b6d8671]
?[0m?[0;34m2023-03-17 16:58:01.071  INFO 16028 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 28852 (http) with context path ''
?[0m?[0;34m2023-03-17 16:58:01.095  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : Started AntiFraudApplication in 8.374 seconds (JVM running for 9.289)
?[0m?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '{
?[0m?[0;34m   &quot;name&quot;: &quot;John Doe 1&quot;,
?[0m?[0;34m   &quot;password&quot;: &quot;oa3VvqnLxW&quot;
?[0m?[0;34m}'
?[0m?[0;34mExpectations: 'In case of wrong data in request, endpoint must respond with BAD REQUEST  status (400).'
?[0m?[0;34m-----
?[0;34m2023-03-17 16:58:01.584  INFO 16028 --- [io-28852-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:01.584  INFO 16028 --- [io-28852-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:01.589  INFO 16028 --- [io-28852-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
?[0m?[0;34m2023-03-17 16:58:01.750  WARN 16028 --- [io-28852-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity&lt;antifraud.model.response.UserResponse&gt; antifraud.controller.UserController.registerUser(antifraud.model.dto.UserDTO): [Field error in object 'userDTO' on field 'username': rejected value [null]; codes [NotEmpty.userDTO.username,NotEmpty.username,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDTO.username,username]; arguments []; default message [username]]; default message [must not be empty]] ]
?[0m?[1;31m
Start test 2?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '{
?[0m?[0;34m   &quot;name&quot;: &quot;John Doe 2&quot;,
?[0m?[0;34m   &quot;username&quot;: &quot;johndoe1&quot;
?[0m?[0;34m}'
?[0m?[0;34mExpectations: 'In case of wrong data in request, endpoint must respond with BAD REQUEST  status (400).'
?[0m?[0;34m-----
?[0;34m2023-03-17 16:58:01.812  WARN 16028 --- [io-28852-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity&lt;antifraud.model.response.UserResponse&gt; antifraud.controller.UserController.registerUser(antifraud.model.dto.UserDTO): [Field error in object 'userDTO' on field 'password': rejected value [null]; codes [NotEmpty.userDTO.password,NotEmpty.password,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDTO.password,password]; arguments []; default message [password]]; default message [must not be empty]] ]
?[0m?[1;31m
Start test 3?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '{
?[0m?[0;34m   &quot;name&quot;: &quot;John Doe 1&quot;,
?[0m?[0;34m   &quot;username&quot;: &quot;johndoe1&quot;,
?[0m?[0;34m   &quot;password&quot;: &quot;oMoa3VvqnLxW&quot;
?[0m?[0;34m}'
?[0m?[0;34mExpectations: 'If user successfully added, endpoint must respond with HTTP CREATED status (201) '
?[0m?[0;34m-----
?[0;34mHibernate: insert into users (id, account_non_locked, name, password, role, username) values (default, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:02.010 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:02.012 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [administrator]
?[0m?[0;34m2023-03-17 16:58:02.013 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$oQYCybufuc3hBB3TvOD/7ewhDX039yjy7hHmgzjXw1429yEnq5xoC]
?[0m?[0;34m2023-03-17 16:58:02.013 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:02.013 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:02.109 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
?[0m?[0;34m2023-03-17 16:58:02.110 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [administrator]
?[0m?[0;34m2023-03-17 16:58:02.111 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$oQYCybufuc3hBB3TvOD/7ewhDX039yjy7hHmgzjXw1429yEnq5xoC]
?[0m?[0;34m2023-03-17 16:58:02.111 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:02.112 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [administrator]
?[0m?[0;34m2023-03-17 16:58:02.113 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [1]
?[0m?[0;34mHibernate: update users set role=? where id=?
?[0m?[0;34m2023-03-17 16:58:02.130 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:02.130 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
?[0m?[1;31m
Start test 4?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'Endpoint must respond with HTTP OK status (200) and body with array of objects representing the users sorted by ID in ascending order.'
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.314 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_
?[0m?[1;31m
Start test 5?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '{
?[0m?[0;34m   &quot;name&quot;: &quot;John Doe 1&quot;,
?[0m?[0;34m   &quot;username&quot;: &quot;johndoe1&quot;,
?[0m?[0;34m   &quot;password&quot;: &quot;oMoa3VvqnLxW&quot;
?[0m?[0;34m}'
?[0m?[0;34mExpectations: 'If user successfully added, endpoint must respond with HTTP CREATED status (201) '
?[0m?[0;34m-----
?[0;34mHibernate: insert into users (id, account_non_locked, name, password, role, username) values (default, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:02.500 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:02.500 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 1]
?[0m?[0;34m2023-03-17 16:58:02.500 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wTJQyYB68IWbtWsamPMwJOa2MTFN7Ul7UPAc1RXRkyyt6XBpyKFim]
?[0m?[0;34m2023-03-17 16:58:02.500 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:02.501 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:02.504 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:02.505 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 1]
?[0m?[0;34m2023-03-17 16:58:02.505 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wTJQyYB68IWbtWsamPMwJOa2MTFN7Ul7UPAc1RXRkyyt6XBpyKFim]
?[0m?[0;34m2023-03-17 16:58:02.505 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:02.505 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:02.506 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [2]
?[0m?[0;34mHibernate: update users set role=? where id=?
?[0m?[0;34m2023-03-17 16:58:02.508 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:02.509 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
?[0m?[1;31m
Start test 6?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'Endpoint must respond with HTTP OK status (200) and body with array of objects representing the users sorted by ID in ascending order.'
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.523 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_
?[0m?[1;31m
Start test 7?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'A user with incorrect credentials is not allowed'
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.598 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[1;31m
Start test 8?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'A user with incorrect credentials is not allowed'
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.627 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndo]
?[0m?[1;31m
Start test 9?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Merchant after registration must be LOCKED'
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.715 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[1;31m
Start test 10?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/access'
?[0m?[0;34mExpectations: 'A user johndoe1 must be UNLOCKED'
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.735 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.816 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:02.828 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
?[0m?[0;34m2023-03-17 16:58:02.828 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 1]
?[0m?[0;34m2023-03-17 16:58:02.828 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wTJQyYB68IWbtWsamPMwJOa2MTFN7Ul7UPAc1RXRkyyt6XBpyKFim]
?[0m?[0;34m2023-03-17 16:58:02.828 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:02.829 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:02.829 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [2]
?[0m?[1;31m
Start test 11?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/role'
?[0m?[0;34mExpectations: 'If a role successfully changed, respond with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.847 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.916 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: update users set role=? where username=?
?[0m?[0;34m2023-03-17 16:58:02.920 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:02.921 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [johndoe1]
?[0m?[1;31m
Start test 12?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history'
?[0m?[0;34mExpectations: 'User johndoe1 must be unlocked.Endpoint must respond with the HTTP OK status (200) and empty array in case if history is empty.'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:02.935 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[1;31m
Start test 13?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/role'
?[0m?[0;34mExpectations: 'If a role successfully changed, respond with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:03.066 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:03.132 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: update users set role=? where username=?
?[0m?[0;34m2023-03-17 16:58:03.137 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:03.137 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [johndoe1]
?[0m?[1;31m
Start test 14?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user johndoe1 must be UNLOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:03.146 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:03.247 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into card (max_allowed, max_manual, number, id) values (?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:03.266 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [200]
?[0m?[0;34m2023-03-17 16:58:03.267 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1500]
?[0m?[0;34m2023-03-17 16:58:03.267 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:03.268 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [BIGINT] - [1]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:03.277 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:03.279 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:03.281 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:03.281 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:03.281 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:03.281 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:03.281 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:03.281 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:03.289 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:03.289 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:03.290 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:03.307 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:03.318 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:03.321 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:03.321 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:03.321 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:03.322 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:03.322 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:03.322 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:03.322 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:03.322 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [2]
?[0m?[1;31m
Start test 15?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 1'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'ALLOWED''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:03.336 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:03.403 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:03.406 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:03.406 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:03.406 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:03.407 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:03.407 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:03.407 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:03.407 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:03.407 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [3]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:03.408 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:03.409 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:03.409 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:03.411 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:03.413 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:03.415 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:03.415 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:03.415 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:03.415 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:03.415 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:03.415 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:03.416 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:03.416 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [3]
?[0m?[1;31m
Start test 16?[0m
?[0;34m2023-03-17 16:58:03.944  INFO 16028 --- [       Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
?[0m?[0;34m2023-03-17 16:58:03.946  INFO 16028 --- [       Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:03.948  WARN 16028 --- [       Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [MVStore background writer C:/Users/profile1/IdeaProjects/Anti-Fraud System/Anti-Fraud System/task/service_db.mv.db] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/java.lang.Object.wait(Native Method)
?[0m?[0;34m app//org.h2.mvstore.MVStore$BackgroundWriterThread.run(MVStore.java:3768)
?[0m?[0;34m2023-03-17 16:58:03.949  WARN 16028 --- [       Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
?[0m?[0;34m java.base@17.0.5/java.lang.Thread.run(Thread.java:833)
?[0m?[0;34m2023-03-17 16:58:03.951  WARN 16028 --- [       Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [H2-serialization] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
?[0m?[0;34m java.base@17.0.5/java.lang.Thread.run(Thread.java:833)
?[0m?[0;34m2023-03-17 16:58:03.952  WARN 16028 --- [       Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [H2-save] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
?[0m?[0;34m java.base@17.0.5/java.lang.Thread.run(Thread.java:833)
?[0m?[0;34m2023-03-17 16:58:03.960  INFO 16028 --- [       Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
?[0m?[0;34m2023-03-17 16:58:03.963  INFO 16028 --- [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
?[0m?[0;34m2023-03-17 16:58:03.972  INFO 16028 --- [       Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
?[0;34m
?[0m?[0;34m  .   ____          _            __ _ _
?[0m?[0;34m /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
?[0m?[0;34m( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
?[0m?[0;34m \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
?[0m?[0;34m  '  |____| .__|_| |_|_| |_\__, | / / / /
?[0m?[0;34m =========|_|==============|___/=/_/_/_/
?[0m?[0;34m :: Spring Boot ::                (v2.7.3)
?[0m?[0;34m
?[0m?[0;34m2023-03-17 16:58:14.561  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : Starting AntiFraudApplication using Java 17.0.5 on DESKTOP-JLPACN8 with PID 16028 (started by profile1 in C:\Users\profile1\IdeaProjects\Anti-Fraud System\Anti-Fraud System\task)
?[0m?[0;34m2023-03-17 16:58:14.561  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;
?[0m?[0;34m2023-03-17 16:58:15.019  INFO 16028 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
?[0m?[0;34m2023-03-17 16:58:15.048  INFO 16028 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 5 JPA repository interfaces.
?[0m?[0;34m2023-03-17 16:58:15.163  INFO 16028 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 28852 (http)
?[0m?[0;34m2023-03-17 16:58:15.164  INFO 16028 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
?[0m?[0;34m2023-03-17 16:58:15.164  INFO 16028 --- [    Test worker] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
?[0m?[0;34m2023-03-17 16:58:15.195  INFO 16028 --- [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
?[0m?[0;34m2023-03-17 16:58:15.195  INFO 16028 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 631 ms
?[0m?[0;34m2023-03-17 16:58:15.263  INFO 16028 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
?[0m?[0;34m2023-03-17 16:58:15.289  INFO 16028 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
?[0m?[0;34m2023-03-17 16:58:15.290  INFO 16028 --- [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2'. Database available at 'jdbc:h2:file:./service_db'
?[0m?[0;34m2023-03-17 16:58:15.373  INFO 16028 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
?[0m?[0;34m2023-03-17 16:58:15.382  INFO 16028 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
?[0m?[0;34mHibernate: alter table suspicious_ip drop constraint if exists idx_identity_ip_unq
?[0m?[0;34mHibernate: alter table suspicious_ip add constraint idx_identity_ip_unq unique (ip)
?[0m?[0;34m2023-03-17 16:58:15.460  INFO 16028 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
?[0m?[0;34m2023-03-17 16:58:15.460  INFO 16028 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
?[0m?[0;34m2023-03-17 16:58:15.761  WARN 16028 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
?[0m?[0;34m2023-03-17 16:58:16.222  INFO 16028 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
?[0m?[0;34m2023-03-17 16:58:16.239  INFO 16028 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@679cdfc3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e07ccbf, org.springframework.security.web.context.SecurityContextPersistenceFilter@6dad684f, org.springframework.security.web.header.HeaderWriterFilter@4104b585, org.springframework.web.filter.CorsFilter@70b9a553, org.springframework.security.web.authentication.logout.LogoutFilter@24c7563b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@115b0bf5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@572c50b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33606f4b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58fe7e22, org.springframework.security.web.session.SessionManagementFilter@ac3739d, org.springframework.security.web.access.ExceptionTranslationFilter@564d9ec2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42bd4a4c]
?[0m?[0;34m2023-03-17 16:58:16.398  INFO 16028 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 28852 (http) with context path ''
?[0m?[0;34m2023-03-17 16:58:16.409  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : Started AntiFraudApplication in 1.871 seconds (JVM running for 24.603)
?[0m?[1;31m
Start test 17?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'After restart user must exist'
?[0m?[0;34m-----
?[0;34m2023-03-17 16:58:16.417  INFO 16028 --- [io-28852-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:16.417  INFO 16028 --- [io-28852-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:16.420  INFO 16028 --- [io-28852-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:16.490 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_
?[0m?[1;31m
Start test 18?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '{
?[0m?[0;34m   &quot;name&quot;: &quot;John Doe 1&quot;,
?[0m?[0;34m   &quot;username&quot;: &quot;johndoe1&quot;,
?[0m?[0;34m   &quot;password&quot;: &quot;oMoa3VvqnLxW&quot;
?[0m?[0;34m}'
?[0m?[0;34mExpectations: 'In case of an attempt to register an existing user, endpoint must respond with HTTP CONFLICT status (409).'
?[0m?[0;34m-----
?[0;34mHibernate: insert into users (id, account_non_locked, name, password, role, username) values (default, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:16.649 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:16.649 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 1]
?[0m?[0;34m2023-03-17 16:58:16.649 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$nug09CRXl7HCloF34H0dSuOr7GycZigJ.PqLgxeUFEZKZDfHUbsVK]
?[0m?[0;34m2023-03-17 16:58:16.650 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:16.650 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:16.655  WARN 16028 --- [io-28852-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
?[0m?[0;34m2023-03-17 16:58:16.656 ERROR 16028 --- [io-28852-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: &quot;PUBLIC.UK_R43AF9AP4EDM43MMTQ01ODDJ6_INDEX_4 ON PUBLIC.USERS(USERNAME NULLS FIRST) VALUES ( /* 2 */ 'johndoe1' )&quot;; SQL statement:
?[0m?[0;34minsert into users (id, account_non_locked, name, password, role, username) values (default, ?, ?, ?, ?, ?) [23505-214]
?[0m?[1;31m
Start test 19?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '{
?[0m?[0;34m   &quot;name&quot;: &quot;John Doe 2&quot;,
?[0m?[0;34m   &quot;username&quot;: &quot;johndoe2&quot;,
?[0m?[0;34m   &quot;password&quot;: &quot;oMoa5VvqnLxW&quot;
?[0m?[0;34m}'
?[0m?[0;34mExpectations: 'If user successfully added, endpoint must respond with HTTP CREATED status (201) '
?[0m?[0;34m-----
?[0;34mHibernate: insert into users (id, account_non_locked, name, password, role, username) values (default, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:16.744 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:16.744 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 2]
?[0m?[0;34m2023-03-17 16:58:16.744 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$BPdi7y8K6DE9DgGajNBR.Ootwgc3e3njvGmAeLIO80ICzQjvxD5My]
?[0m?[0;34m2023-03-17 16:58:16.744 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:16.745 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:16.748 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:16.748 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 2]
?[0m?[0;34m2023-03-17 16:58:16.748 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$BPdi7y8K6DE9DgGajNBR.Ootwgc3e3njvGmAeLIO80ICzQjvxD5My]
?[0m?[0;34m2023-03-17 16:58:16.748 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:16.748 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe2]
?[0m?[0;34m2023-03-17 16:58:16.748 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [4]
?[0m?[0;34mHibernate: update users set role=? where id=?
?[0m?[0;34m2023-03-17 16:58:16.749 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:16.749 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [4]
?[0m?[1;31m
Start test 20?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'Endpoint must respond with HTTP OK status (200) and body with array of objects representing the users sorted by ID in ascending order.'
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:16.762 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_
?[0m?[1;31m
Start test 21?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 199'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'ALLOWED''
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:16.845 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:16.925 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:16.931 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [199]
?[0m?[0;34m2023-03-17 16:58:16.932 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:01]
?[0m?[0;34m2023-03-17 16:58:16.932 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:16.932 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:16.932 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:16.932 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:16.932 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:16.932 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [4]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:16.935 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:16.935 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:01]
?[0m?[0;34m2023-03-17 16:58:16.936 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:01]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:16.940 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:16.942 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [199]
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:01]
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:16.944 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [4]
?[0m?[1;31m
Start test 22?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 200'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'ALLOWED''
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:16.955 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:17.023 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:17.027 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [200]
?[0m?[0;34m2023-03-17 16:58:17.027 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:02]
?[0m?[0;34m2023-03-17 16:58:17.028 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.028 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.028 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.028 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.028 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.028 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [5]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:17.030 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.031 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:02]
?[0m?[0;34m2023-03-17 16:58:17.031 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:02]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.033 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.036 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:17.038 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [200]
?[0m?[0;34m2023-03-17 16:58:17.038 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:02]
?[0m?[0;34m2023-03-17 16:58:17.038 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.038 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.039 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.039 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.039 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.039 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [5]
?[0m?[1;31m
Start test 23?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 201'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'MANUAL_PROCESSING''
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.053 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:17.119 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:17.121 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [201]
?[0m?[0;34m2023-03-17 16:58:17.121 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:03]
?[0m?[0;34m2023-03-17 16:58:17.121 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.121 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.121 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.122 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.122 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.122 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [6]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:17.124 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.124 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:03]
?[0m?[0;34m2023-03-17 16:58:17.124 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:03]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.126 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.127 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:17.128 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [201]
?[0m?[0;34m2023-03-17 16:58:17.128 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:03]
?[0m?[0;34m2023-03-17 16:58:17.129 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.129 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.129 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.129 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.129 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:17.129 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [6]
?[0m?[1;31m
Start test 24?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 1499'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'MANUAL_PROCESSING''
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.136 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:17.203 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:17.207 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1499]
?[0m?[0;34m2023-03-17 16:58:17.208 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:04]
?[0m?[0;34m2023-03-17 16:58:17.208 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.208 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.208 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.208 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.208 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.208 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [7]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:17.210 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.211 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:04]
?[0m?[0;34m2023-03-17 16:58:17.211 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:04]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.214 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.216 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:17.221 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1499]
?[0m?[0;34m2023-03-17 16:58:17.221 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:04]
?[0m?[0;34m2023-03-17 16:58:17.221 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.222 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.222 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.222 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.222 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:17.222 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [7]
?[0m?[1;31m
Start test 25?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 1500'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'MANUAL_PROCESSING''
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.236 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:17.306 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1500]
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:05]
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.308 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [8]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:17.310 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.310 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:05]
?[0m?[0;34m2023-03-17 16:58:17.310 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:05]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.313 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.314 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:17.317 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1500]
?[0m?[0;34m2023-03-17 16:58:17.317 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:05]
?[0m?[0;34m2023-03-17 16:58:17.317 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.317 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.317 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.317 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.318 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:17.318 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [8]
?[0m?[1;31m
Start test 26?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 1501'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'PROHIBITED''
?[0m?[0;34m-----
?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.327 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:17.390 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:17.391 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1501]
?[0m?[0;34m2023-03-17 16:58:17.391 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:06]
?[0m?[0;34m2023-03-17 16:58:17.392 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.392 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.392 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.392 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.392 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.392 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [9]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:17.393 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.393 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:06]
?[0m?[0;34m2023-03-17 16:58:17.393 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:06]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.395 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.396 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1501]
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:06]
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:17.398 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [9]
?[0m?[1;31m
Start test 27?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 2000'
?[0m?[0;34mExpectations: 'Result validating of Transaction must be 'PROHIBITED''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.405 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:17.468 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:17.472 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:17.472 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:07]
?[0m?[0;34m2023-03-17 16:58:17.472 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.472 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.473 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.473 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.473 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.473 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [10]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:17.474 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.475 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:07]
?[0m?[0;34m2023-03-17 16:58:17.475 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:07]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.478 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:17.480 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:07]
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:17.482 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [10]
?[0m?[1;31m
Start test 28?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = -1'
?[0m?[0;34mExpectations: 'Response status must be 'Bad request''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.496 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:17.570  WARN 16028 --- [io-28852-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.response.TransactionResponse antifraud.controller.TransactionController.transaction(antifraud.model.request.TransactionRequest): [Field error in object 'transactionRequest' on field 'amount': rejected value [-1]; codes [Positive.transactionRequest.amount,Positive.amount,Positive.java.lang.Long,Positive]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.amount,amount]; arguments []; default message [amount]]; default message [must be greater than 0]] ]
?[0m?[1;31m
Start test 29?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = 0'
?[0m?[0;34mExpectations: 'Response status must be 'Bad request''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.578 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:17.639  WARN 16028 --- [io-28852-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.response.TransactionResponse antifraud.controller.TransactionController.transaction(antifraud.model.request.TransactionRequest): [Field error in object 'transactionRequest' on field 'amount': rejected value [0]; codes [Positive.transactionRequest.amount,Positive.amount,Positive.java.lang.Long,Positive]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.amount,amount]; arguments []; default message [amount]]; default message [must be greater than 0]] ]
?[0m?[1;31m
Start test 30?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = null'
?[0m?[0;34mExpectations: 'Response status must be 'Bad request''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.647 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:17.708  WARN 16028 --- [io-28852-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.response.TransactionResponse antifraud.controller.TransactionController.transaction(antifraud.model.request.TransactionRequest): [Field error in object 'transactionRequest' on field 'amount': rejected value [null]; codes [NotNull.transactionRequest.amount,NotNull.amount,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.amount,amount]; arguments []; default message [amount]]; default message [must not be null]] ]
?[0m?[1;31m
Start test 31?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = &quot;&quot;'
?[0m?[0;34mExpectations: 'Response status must be 'Bad request''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.716 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:17.779  WARN 16028 --- [io-28852-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.response.TransactionResponse antifraud.controller.TransactionController.transaction(antifraud.model.request.TransactionRequest): [Field error in object 'transactionRequest' on field 'amount': rejected value [null]; codes [NotNull.transactionRequest.amount,NotNull.amount,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.amount,amount]; arguments []; default message [amount]]; default message [must not be null]] ]
?[0m?[1;31m
Start test 32?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'amount = &quot; &quot;'
?[0m?[0;34mExpectations: 'Response status must be 'Bad request''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.789 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:17.853  WARN 16028 --- [io-28852-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.response.TransactionResponse antifraud.controller.TransactionController.transaction(antifraud.model.request.TransactionRequest): [Field error in object 'transactionRequest' on field 'amount': rejected value [null]; codes [NotNull.transactionRequest.amount,NotNull.amount,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.amount,amount]; arguments []; default message [amount]]; default message [must not be null]] ]
?[0m?[1;31m
Start test 33?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mrequest: 'empty body'
?[0m?[0;34mExpectations: 'Response status must be 'Bad request''
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.868 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34m2023-03-17 16:58:17.931  WARN 16028 --- [io-28852-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.response.TransactionResponse antifraud.controller.TransactionController.transaction(antifraud.model.request.TransactionRequest) with 3 errors: [Field error in object 'transactionRequest' on field 'ip': rejected value [null]; codes [IpAddress.transactionRequest.ip,IpAddress.ip,IpAddress.java.lang.String,IpAddress]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.ip,ip]; arguments []; default message [ip]]; default message [Invalid Ip Address!]] [Field error in object 'transactionRequest' on field 'region': rejected value [null]; codes [NotNull.transactionRequest.region,NotNull.region,NotNull.antifraud.model.enums.Region,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.region,region]; arguments []; default message [region]]; default message [must not be null]] [Field error in object 'transactionRequest' on field 'amount': rejected value [null]; codes [NotNull.transactionRequest.amount,NotNull.amount,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionRequest.amount,amount]; arguments []; default message [amount]]; default message [must not be null]] ]
?[0m?[1;31m
Start test 34?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '/api/auth/user/somebody'
?[0m?[0;34mExpectations: 'If a user is not found, respond with HTTP Not Found status (404).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:17.940 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.006 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [somebody]
?[0m?[1;31m
Start test 35?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '/api/auth/user/johndoe1'
?[0m?[0;34mExpectations: 'The endpoint must delete the user and respond with HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.014 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.076 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe1]
?[0m?[0;34mHibernate: delete from users where id=?
?[0m?[0;34m2023-03-17 16:58:18.082 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2]
?[0m?[1;31m
Start test 36?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'User 'johndoe1' must be delete'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.099 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_
?[0m?[1;31m
Start test 37?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/role'
?[0m?[0;34mExpectations: 'If a user is not found, endpoint must respond with the HTTP Not Found status (404).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.170 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.234 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe22]
?[0m?[1;31m
Start test 38?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/role'
?[0m?[0;34mExpectations: 'If a role is not found, endpoint must respond with the HTTP Bad Request status (400).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.243 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34m2023-03-17 16:58:18.306  WARN 16028 --- [io-28852-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `antifraud.model.enums.Roles` from String &quot;USER&quot;: not one of the values accepted for Enum class: [MERCHANT, ADMINISTRATOR, SUPPORT, ANONYMOUS]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `antifraud.model.enums.Roles` from String &quot;USER&quot;: not one of the values accepted for Enum class: [MERCHANT, ADMINISTRATOR, SUPPORT, ANONYMOUS]&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 31] (through reference chain: antifraud.model.request.UserRoleRequest[&quot;role&quot;])]
?[0m?[1;31m
Start test 39?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/role'
?[0m?[0;34mExpectations: 'If a role is ADMINISTRATOR, endpoint must respond with the HTTP Bad Request status (400).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.312 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 40?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/role'
?[0m?[0;34mExpectations: 'If a role successfully changed, respond with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.384 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.448 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: update users set role=? where username=?
?[0m?[0;34m2023-03-17 16:58:18.452 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:18.452 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 41?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/role'
?[0m?[0;34mExpectations: 'If a role already assigned to a user, endpoint must respond with the HTTP Conflict status (409).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.464 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.526 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 42?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/access'
?[0m?[0;34mExpectations: 'A user johndoe2 must be UNLOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.533 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.597 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:18.598 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
?[0m?[0;34m2023-03-17 16:58:18.598 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 2]
?[0m?[0;34m2023-03-17 16:58:18.598 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$BPdi7y8K6DE9DgGajNBR.Ootwgc3e3njvGmAeLIO80ICzQjvxD5My]
?[0m?[0;34m2023-03-17 16:58:18.598 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:18.598 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe2]
?[0m?[0;34m2023-03-17 16:58:18.598 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [4]
?[0m?[1;31m
Start test 43?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'Role for user 'johndoe2' must be changed to SUPPORT'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.606 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_
?[0m?[1;31m
Start test 44?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Role MERCHANT must be removed from user johndoe2!'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.677 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 45?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mrequest: '{
?[0m?[0;34m   &quot;name&quot;: &quot;John Doe 3&quot;,
?[0m?[0;34m   &quot;username&quot;: &quot;johndoe3&quot;,
?[0m?[0;34m   &quot;password&quot;: &quot;oMoa6VvqnLxW&quot;
?[0m?[0;34m}'
?[0m?[0;34mExpectations: 'If user successfully added, endpoint must respond with HTTP CREATED status (201) '
?[0m?[0;34m-----
?[0m?[0;34mHibernate: insert into users (id, account_non_locked, name, password, role, username) values (default, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:18.811 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:18.811 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 3]
?[0m?[0;34m2023-03-17 16:58:18.811 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wmq5ZjkKSHy9OrIj.D8deOc.0zjvOQM2lsnBWhLyMw3yM/e8ayyFi]
?[0m?[0;34m2023-03-17 16:58:18.811 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:18.811 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:18.812 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:18.813 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 3]
?[0m?[0;34m2023-03-17 16:58:18.813 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wmq5ZjkKSHy9OrIj.D8deOc.0zjvOQM2lsnBWhLyMw3yM/e8ayyFi]
?[0m?[0;34m2023-03-17 16:58:18.813 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:18.813 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe3]
?[0m?[0;34m2023-03-17 16:58:18.813 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
?[0m?[0;34mHibernate: update users set role=? where id=?
?[0m?[0;34m2023-03-17 16:58:18.813 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:18.814 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [5]
?[0m?[1;31m
Start test 46?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'MERCHANT user after registration must be LOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.822 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 47?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/access'
?[0m?[0;34mExpectations: 'A user johndoe3 must be UNLOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.831 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.893 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:18.895 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
?[0m?[0;34m2023-03-17 16:58:18.895 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 3]
?[0m?[0;34m2023-03-17 16:58:18.895 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wmq5ZjkKSHy9OrIj.D8deOc.0zjvOQM2lsnBWhLyMw3yM/e8ayyFi]
?[0m?[0;34m2023-03-17 16:58:18.895 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:18.896 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe3]
?[0m?[0;34m2023-03-17 16:58:18.896 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
?[0m?[1;31m
Start test 48?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user johndoe3 must be UNLOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.904 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:18.968 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:18.971 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:18.972 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:18.972 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:18.972 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:18.972 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:18.973 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:18.973 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:18.973 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [11]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:18.975 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:18.976 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:18.976 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:18.979 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:18.981 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:18.984 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:18.985 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:18.985 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:18.985 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:18.985 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:18.985 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:18.985 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:18.985 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [11]
?[0m?[1;31m
Start test 49?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/access'
?[0m?[0;34mExpectations: 'A user johndoe3 must be LOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:18.998 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.063 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:19.066 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [false]
?[0m?[0;34m2023-03-17 16:58:19.066 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 3]
?[0m?[0;34m2023-03-17 16:58:19.067 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wmq5ZjkKSHy9OrIj.D8deOc.0zjvOQM2lsnBWhLyMw3yM/e8ayyFi]
?[0m?[0;34m2023-03-17 16:58:19.067 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:19.067 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe3]
?[0m?[0;34m2023-03-17 16:58:19.067 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
?[0m?[1;31m
Start test 50?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user johndoe3 must be LOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.075 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 51?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/access'
?[0m?[0;34mExpectations: 'A user johndoe3 must be UNLOCKED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.086 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.149 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: update users set account_non_locked=?, name=?, password=?, role=?, username=? where id=?
?[0m?[0;34m2023-03-17 16:58:19.151 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
?[0m?[0;34m2023-03-17 16:58:19.151 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [John Doe 3]
?[0m?[0;34m2023-03-17 16:58:19.151 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [$2a$10$wmq5ZjkKSHy9OrIj.D8deOc.0zjvOQM2lsnBWhLyMw3yM/e8ayyFi]
?[0m?[0;34m2023-03-17 16:58:19.151 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:19.151 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [johndoe3]
?[0m?[0;34m2023-03-17 16:58:19.151 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
?[0m?[1;31m
Start test 52?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to /api/antifraud/transaction'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.161 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 53?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user with role SUPPORT must not have access to /api/antifraud/transaction'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.228 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 54?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user with role ANONYMOUS must not have access to /api/antifraud/transaction'
?[0m?[0;34m-----
?[0m?[1;31m
Start test 55?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mExpectations: 'A user with role ANONYMOUS must not have access to DELETE /api/auth/user'
?[0m?[0;34m-----
?[0m?[1;31m
Start test 56?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mExpectations: 'A user with role SUPPORT must not have access to DELETE /api/auth/user'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.315 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 57?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/user'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to DELETE /api/auth/user'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.387 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 58?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'A user with role ANONYMOUS must not have access to /api/auth/list'
?[0m?[0;34m-----
?[0m?[1;31m
Start test 59?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/auth/list'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to /api/auth/list'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.460 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 60?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to GET /api/antifraud/suspicious-ip'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.527 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 61?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to GET /api/antifraud/suspicious-ip'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.600 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 62?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to POST /api/antifraud/suspicious-ip'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.669 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 63?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to POST /api/antifraud/suspicious-ip'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.741 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 64?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to DELETE /api/antifraud/suspicious-ip'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.807 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 65?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to DELETE /api/antifraud/suspicious-ip'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.887 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 66?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to GET /api/antifraud/stolencard'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:19.961 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 67?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to GET /api/antifraud/stolencard'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.026 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 68?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to POST /api/antifraud/stolencard'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.093 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 69?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to POST /api/antifraud/stolencard'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.164 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 70?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to DELETE /api/antifraud/stolencard'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.236 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 71?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to DELETE /api/antifraud/stolencard'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.303 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 72?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'Endpoint must respond with empty array'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.370 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as id1_2_, suspicious0_.ip as ip2_2_ from suspicious_ip suspicious0_
?[0m?[1;31m
Start test 73?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'IP must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.439 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:20.500 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.66]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into suspicious_ip (ip, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:20.505 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.66]
?[0m?[0;34m2023-03-17 16:58:20.505 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [12]
?[0m?[1;31m
Start test 74?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'If IP already in database,  endpoint must respond with the HTTP Conflict status (409).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.517 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:20.579 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.66]
?[0m?[1;31m
Start test 75?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'If IP doesn't have right format, respond with HTTP Bad Request status (400)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.586 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34m2023-03-17 16:58:20.649  WARN 16028 --- [io-28852-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.SuspiciousIp antifraud.controller.SuspiciousIpController.addSuspiciousIp(antifraud.model.dto.SuspiciousIpDTO): [Field error in object 'suspiciousIpDTO' on field 'ip': rejected value [192.168.351.66]; codes [IpAddress.suspiciousIpDTO.ip,IpAddress.ip,IpAddress.java.lang.String,IpAddress]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [suspiciousIpDTO.ip,ip]; arguments []; default message [ip]]; default message [Invalid Ip Address!]] ]
?[0m?[1;31m
Start test 76?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'If IP doesn't have right format, respond with HTTP Bad Request status (400)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.657 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34m2023-03-17 16:58:20.717  WARN 16028 --- [o-28852-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.SuspiciousIp antifraud.controller.SuspiciousIpController.addSuspiciousIp(antifraud.model.dto.SuspiciousIpDTO): [Field error in object 'suspiciousIpDTO' on field 'ip': rejected value [192.168.1.]; codes [IpAddress.suspiciousIpDTO.ip,IpAddress.ip,IpAddress.java.lang.String,IpAddress]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [suspiciousIpDTO.ip,ip]; arguments []; default message [ip]]; default message [Invalid Ip Address!]] ]
?[0m?[1;31m
Start test 77?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'IP must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.723 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:20.785 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into suspicious_ip (ip, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:20.787 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34m2023-03-17 16:58:20.787 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [13]
?[0m?[1;31m
Start test 78?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'Endpoint must responds with Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.796 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as id1_2_, suspicious0_.ip as ip2_2_ from suspicious_ip suspicious0_
?[0m?[1;31m
Start test 79?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'IP must be removed from Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.868 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as id1_2_, suspicious0_.ip as ip2_2_ from suspicious_ip suspicious0_ where suspicious0_.ip=?
?[0m?[0;34m2023-03-17 16:58:20.929 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.66]
?[0m?[0;34mHibernate: delete from suspicious_ip where id=?
?[0m?[0;34m2023-03-17 16:58:20.930 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [12]
?[0m?[1;31m
Start test 80?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'If IP not found in database, respond with the HTTP Not Found status (404).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:20.937 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as id1_2_, suspicious0_.ip as ip2_2_ from suspicious_ip suspicious0_ where suspicious0_.ip=?
?[0m?[0;34m2023-03-17 16:58:20.997 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.66]
?[0m?[1;31m
Start test 81?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'If IP doesn't have right format, respond with HTTP Bad Request status (400)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.003 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 82?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'IP must be removed from Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.073 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as id1_2_, suspicious0_.ip as ip2_2_ from suspicious_ip suspicious0_
?[0m?[1;31m
Start test 83?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'Endpoint must respond with empty array'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.143 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as id1_1_, stolencard0_.number as number2_1_ from stolen_card stolencard0_
?[0m?[1;31m
Start test 84?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A card must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.212 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:21.272 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305061034]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into stolen_card (number, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:21.275 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305061034]
?[0m?[0;34m2023-03-17 16:58:21.275 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [14]
?[0m?[1;31m
Start test 85?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'If card-number already in database, endpoint must respond with the HTTP Conflict status (409).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.283 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:21.346 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305061034]
?[0m?[1;31m
Start test 86?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'If card-number doesn't have right format, endpoint must respond with HTTP Bad Request status (400).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.352 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34m2023-03-17 16:58:21.421  WARN 16028 --- [o-28852-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.StolenCard antifraud.controller.StolenCardController.addStolenCard(antifraud.model.dto.StolenCardDTO): [Field error in object 'stolenCardDTO' on field 'number': rejected value [400000330506103]; codes [CreditCardNumber.stolenCardDTO.number,CreditCardNumber.number,CreditCardNumber.java.lang.String,CreditCardNumber]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [stolenCardDTO.number,number]; arguments []; default message [number],false]; default message [invalid credit card number]] ]
?[0m?[1;31m
Start test 87?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'If checksum of card-number is wrong, endpoint must respond with HTTP Bad Request status (400).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.431 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34m2023-03-17 16:58:21.493  WARN 16028 --- [io-28852-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in antifraud.model.StolenCard antifraud.controller.StolenCardController.addStolenCard(antifraud.model.dto.StolenCardDTO): [Field error in object 'stolenCardDTO' on field 'number': rejected value [4000003305061033]; codes [CreditCardNumber.stolenCardDTO.number,CreditCardNumber.number,CreditCardNumber.java.lang.String,CreditCardNumber]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [stolenCardDTO.number,number]; arguments []; default message [number],false]; default message [invalid credit card number]] ]
?[0m?[1;31m
Start test 88?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A card must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.499 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:21.559 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into stolen_card (number, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:21.560 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:21.560 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [15]
?[0m?[1;31m
Start test 89?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'Endpoint must responds with Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.565 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as id1_1_, stolencard0_.number as number2_1_ from stolen_card stolencard0_
?[0m?[1;31m
Start test 90?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'Card must be removed from Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.631 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as id1_1_, stolencard0_.number as number2_1_ from stolen_card stolencard0_ where stolencard0_.number=?
?[0m?[0;34m2023-03-17 16:58:21.695 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305061034]
?[0m?[0;34mHibernate: delete from stolen_card where id=?
?[0m?[0;34m2023-03-17 16:58:21.697 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
?[0m?[1;31m
Start test 91?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'If card-number not found in database, respond with the HTTP Not Found status (404).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.707 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as id1_1_, stolencard0_.number as number2_1_ from stolen_card stolencard0_ where stolencard0_.number=?
?[0m?[0;34m2023-03-17 16:58:21.768 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305061034]
?[0m?[1;31m
Start test 92?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'If card-number doesn't have right format, endpoint must respond with HTTP Bad Request status (400).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.776 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 93?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'Card must be removed from Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.840 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as id1_1_, stolencard0_.number as number2_1_ from stolen_card stolencard0_
?[0m?[1;31m
Start test 94?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - suspicious ip reason'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.905 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:21.969 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1000]
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:21.971 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [16]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:21.975 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:21.975 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:21.975 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:21.978 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:21.979 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:21.981 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1000]
?[0m?[0;34m2023-03-17 16:58:21.981 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:21.982 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:21.982 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34m2023-03-17 16:58:21.982 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:21.982 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:21.982 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:21.982 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [16]
?[0m?[1;31m
Start test 95?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - stolen card reason'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:21.992 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.059 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into card (max_allowed, max_manual, number, id) values (?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.063 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [200]
?[0m?[0;34m2023-03-17 16:58:22.063 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1500]
?[0m?[0;34m2023-03-17 16:58:22.063 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.063 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [BIGINT] - [17]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.064 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1000]
?[0m?[0;34m2023-03-17 16:58:22.064 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:22.065 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.065 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:22.065 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.065 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.065 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.065 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [18]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.066 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.066 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:22.066 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.067 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.068 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.069 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1000]
?[0m?[0;34m2023-03-17 16:58:22.069 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:22.069 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.070 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:22.070 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.070 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.070 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:22.070 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [18]
?[0m?[1;31m
Start test 96?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - stolen card, suspicious ip reasons'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.078 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.141 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.142 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1000]
?[0m?[0;34m2023-03-17 16:58:22.142 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:22.142 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.142 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34m2023-03-17 16:58:22.142 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.142 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.143 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.143 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [19]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.144 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.144 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:22.144 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.145 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.146 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1000]
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:22.147 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [19]
?[0m?[1;31m
Start test 97?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - amount, stolen card, suspicious ip reasons'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.157 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.223 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.225 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [20]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.227 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.228 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:22.228 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.229 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.231 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.67]
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000003305160034]
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:22.232 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [20]
?[0m?[1;31m
Start test 98?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.243 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.308 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:10]
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.310 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [21]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.311 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.311 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:10]
?[0m?[0;34m2023-03-17 16:58:22.311 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T17:10]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.312 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.312 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:10]
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.313 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [21]
?[0m?[1;31m
Start test 99?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.319 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.382 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:11]
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.3]
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.384 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [22]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.387 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.387 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:11]
?[0m?[0;34m2023-03-17 16:58:22.387 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T17:11]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.388 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.390 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.3]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:11]
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.3]
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.392 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [22]
?[0m?[1;31m
Start test 100?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.402 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.466 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:12]
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.3]
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.468 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [23]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.469 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.469 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:12]
?[0m?[0;34m2023-03-17 16:58:22.469 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T17:12]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.470 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.470 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.3]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:12]
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.3]
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.471 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [23]
?[0m?[1;31m
Start test 101?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be MANUAL_PROCESSING due to - ip correlation rule'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.478 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.538 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.539 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:12]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.4]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [24]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:12]
?[0m?[0;34m2023-03-17 16:58:22.540 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T17:12]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.541 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.541 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.4]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:12]
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.4]
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:22.543 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [24]
?[0m?[1;31m
Start test 102?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - ip correlation rule'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.548 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.609 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:13]
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.610 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [25]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.611 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.611 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:13]
?[0m?[0;34m2023-03-17 16:58:22.611 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T17:13]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.612 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.612 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:13]
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:22.613 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [25]
?[0m?[1;31m
Start test 103?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A card must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.618 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.682 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into stolen_card (number, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:22.684 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.684 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [26]
?[0m?[1;31m
Start test 104?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'IP must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.694 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.758 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into suspicious_ip (ip, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:22.760 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34m2023-03-17 16:58:22.760 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [27]
?[0m?[1;31m
Start test 105?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - amount, card-number, ip, ip-correlation reasons'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.770 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.831 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:14]
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.832 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [28]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:22.833 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.833 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:14]
?[0m?[0;34m2023-03-17 16:58:22.833 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T17:14]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.835 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:22.836 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T17:14]
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:22.838 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [28]
?[0m?[1;31m
Start test 106?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'Card must be removed from Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.845 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as id1_1_, stolencard0_.number as number2_1_ from stolen_card stolencard0_ where stolencard0_.number=?
?[0m?[0;34m2023-03-17 16:58:22.907 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: delete from stolen_card where id=?
?[0m?[0;34m2023-03-17 16:58:22.908 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [26]
?[0m?[1;31m
Start test 107?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'IP must be removed from Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.914 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as id1_2_, suspicious0_.ip as ip2_2_ from suspicious_ip suspicious0_ where suspicious0_.ip=?
?[0m?[0;34m2023-03-17 16:58:22.975 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.5]
?[0m?[0;34mHibernate: delete from suspicious_ip where id=?
?[0m?[0;34m2023-03-17 16:58:22.978 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
?[0m?[1;31m
Start test 108?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:22.986 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.050 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:10]
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.052 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [29]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:23.053 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.053 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T16:10]
?[0m?[0;34m2023-03-17 16:58:23.053 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-21T17:10]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.055 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.056 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:10]
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:23.058 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [29]
?[0m?[1;31m
Start test 109?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.065 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.128 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:23.129 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.129 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:11]
?[0m?[0;34m2023-03-17 16:58:23.129 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.129 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.129 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.129 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:23.129 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.130 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [30]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:23.130 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.130 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T16:11]
?[0m?[0;34m2023-03-17 16:58:23.131 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-21T17:11]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.132 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.132 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:11]
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:23.133 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [30]
?[0m?[1;31m
Start test 110?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.140 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.200 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:12]
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.201 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [31]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:23.202 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.202 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T16:12]
?[0m?[0;34m2023-03-17 16:58:23.202 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-21T17:12]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.203 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.203 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:12]
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:23.204 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [31]
?[0m?[1;31m
Start test 111?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be MANUAL_PROCESSING due to - region correlation rule'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.210 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.272 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:23.274 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.274 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:13]
?[0m?[0;34m2023-03-17 16:58:23.274 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.274 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.275 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.275 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:23.275 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.275 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [32]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:23.276 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.276 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T16:13]
?[0m?[0;34m2023-03-17 16:58:23.276 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-21T17:13]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.277 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.278 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:13]
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:23.279 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [32]
?[0m?[1;31m
Start test 112?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - region correlation rule'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.289 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.353 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:23.356 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.356 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:14]
?[0m?[0;34m2023-03-17 16:58:23.356 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.356 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.356 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.357 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [6]
?[0m?[0;34m2023-03-17 16:58:23.357 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.357 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [33]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:23.358 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.358 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T16:14]
?[0m?[0;34m2023-03-17 16:58:23.359 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-21T17:14]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.360 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.361 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:23.363 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:23.363 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:14]
?[0m?[0;34m2023-03-17 16:58:23.364 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.364 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.364 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.364 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [6]
?[0m?[0;34m2023-03-17 16:58:23.364 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:23.364 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [33]
?[0m?[1;31m
Start test 113?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'A card must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.374 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.435 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into stolen_card (number, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:23.436 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.437 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [34]
?[0m?[1;31m
Start test 114?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/suspicious-ip'
?[0m?[0;34mExpectations: 'IP must be added to Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.442 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.505 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into suspicious_ip (ip, id) values (?, ?)
?[0m?[0;34m2023-03-17 16:58:23.507 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.507 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [35]
?[0m?[1;31m
Start test 115?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be PROHIBITED due to - amount, card-number, ip, region-correlation reasons'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.513 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.576 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:23.578 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:23.578 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:15]
?[0m?[0;34m2023-03-17 16:58:23.578 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.578 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.578 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.579 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [5]
?[0m?[0;34m2023-03-17 16:58:23.579 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.579 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [36]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:23.581 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.581 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T16:15]
?[0m?[0;34m2023-03-17 16:58:23.582 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-21T17:15]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.584 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:23.585 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:23.587 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2000]
?[0m?[0;34m2023-03-17 16:58:23.587 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-21T17:15]
?[0m?[0;34m2023-03-17 16:58:23.587 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:23.588 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.2]
?[0m?[0;34m2023-03-17 16:58:23.588 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:23.588 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [5]
?[0m?[0;34m2023-03-17 16:58:23.588 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:23.588 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [36]
?[0m?[1;31m
Start test 116?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/stolencard'
?[0m?[0;34mExpectations: 'Card must be removed from Black List'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.598 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select stolencard0_.id as id1_1_, stolencard0_.number as number2_1_ from stolen_card stolencard0_ where stolencard0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.662 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: delete from stolen_card where id=?
?[0m?[0;34m2023-03-17 16:58:23.663 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
?[0m?[1;31m
Start test 117?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history/4000004938320896'
?[0m?[0;34mExpectations: 'If transactions for specified card number is not found in database, respond with the HTTP Not Found status (404).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.670 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.731 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000004938320896]
?[0m?[1;31m
Start test 118?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history/4000008449433402'
?[0m?[0;34mExpectations: 'If card-number doesn't have right format (Luhn algo), respond with HTTP Bad Request status (400).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.737 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[1;31m
Start test 119?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'If feedback must throw Exception due to table in description section, respond with HTTP Unprocessable Entity status 422.'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.802 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.880 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:23.954 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:23.960 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[1;31m
Start test 120?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'If feedback must throw Exception due to table in description section, respond with HTTP Unprocessable Entity status 422.'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:23.967 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.036 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:24.097 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [6]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:24.098 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[1;31m
Start test 121?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'If feedback must throw Exception due to table in description section, respond with HTTP Unprocessable Entity status 422.'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.106 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.176 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:24.241 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [9]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:24.243 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[1;31m
Start test 122?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'If transaction is not found in history, respond with the HTTP Not Found status (404).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.251 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[1;31m
Start test 123?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user with role ANONYMOUS must not have access to PUT /api/antifraud/transaction'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.319 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[1;31m
Start test 124?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to PUT /api/antifraud/transaction'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.393 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.463 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 125?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to PUT /api/antifraud/transaction'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.537 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.605 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 126?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history'
?[0m?[0;34mExpectations: 'A user with role ANONYMOUS must not have access to GET /api/antifraud/history'
?[0m?[0;34m-----
?[0m?[1;31m
Start test 127?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history/4000003305160034'
?[0m?[0;34mExpectations: 'A user with role ANONYMOUS must not have access to GET /api/antifraud/history'
?[0m?[0;34m-----
?[0m?[1;31m
Start test 128?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to GET /api/antifraud/history'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.684 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 129?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history/4000003305160034'
?[0m?[0;34mExpectations: 'A user with role ADMINISTRATOR must not have access to GET /api/antifraud/history'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.749 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [administrator]
?[0m?[1;31m
Start test 130?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to GET /api/antifraud/history'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.816 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 131?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history/4000003305160034'
?[0m?[0;34mExpectations: 'A user with role MERCHANT must not have access to GET /api/antifraud/history'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.883 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[1;31m
Start test 132?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history'
?[0m?[0;34mExpectations: 'Endpoint must respond with the HTTP OK status (200) and body with array of JSON objects representing transactions, sorted by id in ascending order'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:24.948 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[1;31m
Start test 133?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/history/4000003305160034'
?[0m?[0;34mExpectations: 'If transactions for specified card number is found, respond with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.019 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.079 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000003305160034]
?[0m?[1;31m
Start test 134?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be MANUAL_PROCESSING'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.090 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.156 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:25.159 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [210]
?[0m?[0;34m2023-03-17 16:58:25.160 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T16:03]
?[0m?[0;34m2023-03-17 16:58:25.160 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.160 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.160 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.160 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.160 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.160 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [37]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:25.163 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.163 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T15:03]
?[0m?[0;34m2023-03-17 16:58:25.163 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T16:03]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.165 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.168 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:25.169 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [210]
?[0m?[0;34m2023-03-17 16:58:25.170 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T16:03]
?[0m?[0;34m2023-03-17 16:58:25.170 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.170 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.170 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.170 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.170 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:25.170 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [37]
?[0m?[1;31m
Start test 135?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'The limits of transaction validation updated.Endpoint responds with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.176 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.244 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:25.304 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [37]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.305 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update card set max_allowed=? where number=?
?[0m?[0;34m2023-03-17 16:58:25.307 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [202]
?[0m?[0;34m2023-03-17 16:58:25.308 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [210]
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T16:03]
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:25.309 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [37]
?[0m?[1;31m
Start test 136?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'If feedback for specified transaction is already in database, respond with the HTTP Conflict status (409).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.317 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.390 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:25.453 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [37]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.454 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[1;31m
Start test 137?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'If feedback doesn't have right format (ALLOWED, MANUAL_PROCESSING, PROHIBITED), respond with HTTP Bad Request status (400).'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.464 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.531 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34m2023-03-17 16:58:25.590  WARN 16028 --- [o-28852-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `antifraud.model.enums.TransactionResult` from String &quot;ALLOWEDD&quot;: not one of the values accepted for Enum class: [ALLOWED, MANUAL_PROCESSING, PROHIBITED]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `antifraud.model.enums.TransactionResult` from String &quot;ALLOWEDD&quot;: not one of the values accepted for Enum class: [ALLOWED, MANUAL_PROCESSING, PROHIBITED]&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 32] (through reference chain: antifraud.model.TransactionFeedback[&quot;feedback&quot;])]
?[0m?[1;31m
Start test 138?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 202, Manual = 1500. Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.595 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.656 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [202]
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T16:04]
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.658 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [38]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:25.660 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.660 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T15:04]
?[0m?[0;34m2023-03-17 16:58:25.660 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T16:04]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.661 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.663 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [202]
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T16:04]
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.664 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [38]
?[0m?[1;31m
Start test 139?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be MANUAL_PROCESSING'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.673 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.736 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:25.738 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [203]
?[0m?[0;34m2023-03-17 16:58:25.739 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:04]
?[0m?[0;34m2023-03-17 16:58:25.739 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.739 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.739 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.739 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.739 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.739 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [39]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:25.740 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.741 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T18:04]
?[0m?[0;34m2023-03-17 16:58:25.741 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T19:04]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.742 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.743 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [203]
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:04]
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:25.744 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [39]
?[0m?[1;31m
Start test 140?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'The limits of transaction validation updated.Endpoint responds with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.751 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.818 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:25.880 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [39]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.881 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update card set max_manual=? where number=?
?[0m?[0;34m2023-03-17 16:58:25.883 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1160]
?[0m?[0;34m2023-03-17 16:58:25.883 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [203]
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:04]
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:25.884 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [39]
?[0m?[1;31m
Start test 141?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 202, Manual = 1160. Transaction must be PROHIBITED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.893 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:25.953 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:25.956 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1161]
?[0m?[0;34m2023-03-17 16:58:25.956 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:04]
?[0m?[0;34m2023-03-17 16:58:25.957 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.957 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.957 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.957 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.957 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.957 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [40]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:25.958 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.958 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T18:04]
?[0m?[0;34m2023-03-17 16:58:25.958 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T19:04]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.959 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:25.960 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1161]
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:04]
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:25.961 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [40]
?[0m?[1;31m
Start test 142?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:25.969 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.033 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.035 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:26.035 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:26.035 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.035 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.035 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.036 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.036 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.036 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [41]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.037 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.037 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:26.037 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.038 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.040 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.041 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [41]
?[0m?[1;31m
Start test 143?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'The limits of transaction validation updated.Endpoint responds with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.050 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.116 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:26.177 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [41]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.178 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update card set max_allowed=? where number=?
?[0m?[0;34m2023-03-17 16:58:26.179 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [162]
?[0m?[0;34m2023-03-17 16:58:26.180 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.181 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [41]
?[0m?[1;31m
Start test 144?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 162, Manual = 1160. Transaction must be MANUAL_PROCESSING'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.188 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.248 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [163]
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:08]
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.250 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [42]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.251 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.251 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T18:08]
?[0m?[0;34m2023-03-17 16:58:26.251 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T19:08]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.251 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.252 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.253 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [163]
?[0m?[0;34m2023-03-17 16:58:26.254 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:08]
?[0m?[0;34m2023-03-17 16:58:26.254 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.254 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.254 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.254 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.254 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:26.254 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [42]
?[0m?[1;31m
Start test 145?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.261 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.322 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.325 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [43]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.326 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.327 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T15:00]
?[0m?[0;34m2023-03-17 16:58:26.327 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.328 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.328 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.329 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [43]
?[0m?[1;31m
Start test 146?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'The limits of transaction validation updated.Endpoint responds with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.338 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.404 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:26.465 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [43]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.466 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update card set max_allowed=?, max_manual=? where number=?
?[0m?[0;34m2023-03-17 16:58:26.468 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [130]
?[0m?[0;34m2023-03-17 16:58:26.468 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [928]
?[0m?[0;34m2023-03-17 16:58:26.468 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.470 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
?[0m?[0;34m2023-03-17 16:58:26.471 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-22T16:00]
?[0m?[0;34m2023-03-17 16:58:26.471 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:26.471 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.471 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.471 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.471 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.471 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [43]
?[0m?[1;31m
Start test 147?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 130, Manual = 928. Transaction must be MANUAL_PROCESSING'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.479 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.541 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.543 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [131]
?[0m?[0;34m2023-03-17 16:58:26.544 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:18]
?[0m?[0;34m2023-03-17 16:58:26.544 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.544 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.544 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.544 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.544 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.544 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [44]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.545 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.545 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T18:18]
?[0m?[0;34m2023-03-17 16:58:26.545 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T19:18]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.547 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.548 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.550 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [131]
?[0m?[0;34m2023-03-17 16:58:26.550 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:18]
?[0m?[0;34m2023-03-17 16:58:26.550 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.551 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.551 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.551 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.551 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:26.551 TRACE 16028 --- [io-28852-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [44]
?[0m?[1;31m
Start test 148?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 130, Manual = 928. Transaction must be PROHIBITED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.560 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.621 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.622 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [929]
?[0m?[0;34m2023-03-17 16:58:26.622 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [45]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T18:28]
?[0m?[0;34m2023-03-17 16:58:26.623 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.624 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.624 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [929]
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:26.625 TRACE 16028 --- [io-28852-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [45]
?[0m?[1;31m
Start test 149?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'The limits of transaction validation updated.Endpoint responds with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.631 TRACE 16028 --- [io-28852-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.696 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:26.757 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [45]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.758 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update card set max_allowed=?, max_manual=? where number=?
?[0m?[0;34m2023-03-17 16:58:26.760 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [290]
?[0m?[0;34m2023-03-17 16:58:26.760 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [929]
?[0m?[0;34m2023-03-17 16:58:26.760 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [929]
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:26.761 TRACE 16028 --- [io-28852-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [45]
?[0m?[1;31m
Start test 150?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 290, Manual = 929. Transaction must be ALLOWED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.770 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.833 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.835 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [289]
?[0m?[0;34m2023-03-17 16:58:26.835 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:26.836 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.836 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.836 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.836 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.836 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.836 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [46]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.837 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.837 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:26.837 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.839 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.840 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.841 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [289]
?[0m?[0;34m2023-03-17 16:58:26.842 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:26.842 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.842 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.842 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.842 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.842 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.842 TRACE 16028 --- [io-28852-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [46]
?[0m?[1;31m
Start test 151?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 290, Manual = 929. Transaction must be MANUAL_PROCESSING'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.851 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.913 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.913 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [929]
?[0m?[0;34m2023-03-17 16:58:26.913 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:26.913 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [47]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T18:28]
?[0m?[0;34m2023-03-17 16:58:26.914 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.915 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.916 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [929]
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:26.917 TRACE 16028 --- [io-28852-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [47]
?[0m?[1;31m
Start test 152?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'PROHIBITED'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.923 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:26.990 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [930]
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.991 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [48]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:26.992 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.992 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:26.992 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.992 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:26.992 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [930]
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:26.993 TRACE 16028 --- [io-28852-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [48]
?[0m?[1;31m
Start test 153?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'The limits of transaction validation updated.Endpoint responds with the HTTP OK status (200)'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:26.998 TRACE 16028 --- [o-28852-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:27.067 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe2]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_0_, transactio0_.amount as amount2_3_0_, transactio0_.date as date3_3_0_, transactio0_.feedback as feedback4_3_0_, transactio0_.ip as ip5_3_0_, transactio0_.number as number6_3_0_, transactio0_.region as region7_3_0_, transactio0_.result as result8_3_0_ from transaction transactio0_ where transactio0_.id=?
?[0m?[0;34m2023-03-17 16:58:27.130 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [48]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:27.132 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update card set max_manual=? where number=?
?[0m?[0;34m2023-03-17 16:58:27.134 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [930]
?[0m?[0;34m2023-03-17 16:58:27.134 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:27.135 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [930]
?[0m?[0;34m2023-03-17 16:58:27.136 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:27.136 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:27.136 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:27.136 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:27.136 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:27.136 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:27.136 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [48]
?[0m?[1;31m
Start test 154?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 290, Manual = 930. Transaction must be MANUAL_PROCESSING'
?[0m?[0;34m-----
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:27.146 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:27.207 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [930]
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:27.208 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [49]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:27.209 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:27.209 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:27.209 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:27.210 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:27.211 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [930]
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [1]
?[0m?[0;34m2023-03-17 16:58:27.212 TRACE 16028 --- [io-28852-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [49]
?[0m?[1;31m
Start test 155?[0m
?[0;34m2023-03-17 16:58:27.734  INFO 16028 --- [       Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
?[0m?[0;34m2023-03-17 16:58:27.734  INFO 16028 --- [       Thread-7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:27.736  WARN 16028 --- [       Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [MVStore background writer C:/Users/profile1/IdeaProjects/Anti-Fraud System/Anti-Fraud System/task/service_db.mv.db] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/java.lang.Object.wait(Native Method)
?[0m?[0;34m app//org.h2.mvstore.MVStore$BackgroundWriterThread.run(MVStore.java:3768)
?[0m?[0;34m2023-03-17 16:58:27.736  WARN 16028 --- [       Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
?[0m?[0;34m java.base@17.0.5/java.lang.Thread.run(Thread.java:833)
?[0m?[0;34m2023-03-17 16:58:27.737  WARN 16028 --- [       Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [H2-serialization] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
?[0m?[0;34m java.base@17.0.5/java.lang.Thread.run(Thread.java:833)
?[0m?[0;34m2023-03-17 16:58:27.738  WARN 16028 --- [       Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [H2-save] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
?[0m?[0;34m java.base@17.0.5/jdk.internal.misc.Unsafe.park(Native Method)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
?[0m?[0;34m java.base@17.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
?[0m?[0;34m java.base@17.0.5/java.lang.Thread.run(Thread.java:833)
?[0m?[0;34m2023-03-17 16:58:27.743  INFO 16028 --- [       Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
?[0m?[0;34m2023-03-17 16:58:27.744  INFO 16028 --- [       Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
?[0m?[0;34m2023-03-17 16:58:27.751  INFO 16028 --- [       Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
?[0;34m
?[0m?[0;34m  .   ____          _            __ _ _
?[0m?[0;34m /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
?[0m?[0;34m( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
?[0m?[0;34m \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
?[0m?[0;34m  '  |____| .__|_| |_|_| |_\__, | / / / /
?[0m?[0;34m =========|_|==============|___/=/_/_/_/
?[0m?[0;34m :: Spring Boot ::                (v2.7.3)
?[0m?[0;34m
?[0m?[0;34m2023-03-17 16:58:38.373  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : Starting AntiFraudApplication using Java 17.0.5 on DESKTOP-JLPACN8 with PID 16028 (started by profile1 in C:\Users\profile1\IdeaProjects\Anti-Fraud System\Anti-Fraud System\task)
?[0m?[0;34m2023-03-17 16:58:38.374  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;
?[0m?[0;34m2023-03-17 16:58:38.686  INFO 16028 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
?[0m?[0;34m2023-03-17 16:58:38.719  INFO 16028 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 5 JPA repository interfaces.
?[0m?[0;34m2023-03-17 16:58:38.837  INFO 16028 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 28852 (http)
?[0m?[0;34m2023-03-17 16:58:38.838  INFO 16028 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
?[0m?[0;34m2023-03-17 16:58:38.838  INFO 16028 --- [    Test worker] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
?[0m?[0;34m2023-03-17 16:58:38.866  INFO 16028 --- [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
?[0m?[0;34m2023-03-17 16:58:38.866  INFO 16028 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 489 ms
?[0m?[0;34m2023-03-17 16:58:38.922  INFO 16028 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
?[0m?[0;34m2023-03-17 16:58:38.935  INFO 16028 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
?[0m?[0;34m2023-03-17 16:58:38.935  INFO 16028 --- [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2'. Database available at 'jdbc:h2:file:./service_db'
?[0m?[0;34m2023-03-17 16:58:38.989  INFO 16028 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
?[0m?[0;34m2023-03-17 16:58:39.000  INFO 16028 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
?[0m?[0;34mHibernate: alter table suspicious_ip drop constraint if exists idx_identity_ip_unq
?[0m?[0;34mHibernate: alter table suspicious_ip add constraint idx_identity_ip_unq unique (ip)
?[0m?[0;34m2023-03-17 16:58:39.075  INFO 16028 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
?[0m?[0;34m2023-03-17 16:58:39.076  INFO 16028 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
?[0m?[0;34m2023-03-17 16:58:39.284  WARN 16028 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
?[0m?[0;34m2023-03-17 16:58:39.712  INFO 16028 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
?[0m?[0;34m2023-03-17 16:58:39.737  INFO 16028 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d99b35f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@295d8b70, org.springframework.security.web.context.SecurityContextPersistenceFilter@7469d13a, org.springframework.security.web.header.HeaderWriterFilter@4dd4a4e, org.springframework.web.filter.CorsFilter@2f42f20f, org.springframework.security.web.authentication.logout.LogoutFilter@6818c0a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@42be0eca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2471cfa0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a907e5a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ee46aaf, org.springframework.security.web.session.SessionManagementFilter@7e3ccedb, org.springframework.security.web.access.ExceptionTranslationFilter@14a204f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62267a22]
?[0m?[0;34m2023-03-17 16:58:39.847  INFO 16028 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 28852 (http) with context path ''
?[0m?[0;34m2023-03-17 16:58:39.854  INFO 16028 --- [    Test worker] antifraud.AntiFraudApplication           : Started AntiFraudApplication in 1.51 seconds (JVM running for 48.048)
?[0m?[1;31m
Start test 156?[0m
?[0;34mTest case
?[0m?[0;34mTesting api: '/api/antifraud/transaction'
?[0m?[0;34mExpectations: 'Limits must be updated to: Allow = 290, Manual = 930. Transaction must be PROHIBITED'
?[0m?[0;34m-----
?[0;34m2023-03-17 16:58:39.859  INFO 16028 --- [io-28852-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:39.859  INFO 16028 --- [io-28852-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
?[0m?[0;34m2023-03-17 16:58:39.861  INFO 16028 --- [io-28852-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
?[0m?[0;34mHibernate: select user0_.id as id1_4_, user0_.account_non_locked as account_2_4_, user0_.name as name3_4_, user0_.password as password4_4_, user0_.role as role5_4_, user0_.username as username6_4_ from users user0_ where user0_.username=?
?[0m?[0;34m2023-03-17 16:58:39.924 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [johndoe3]
?[0m?[0;34mHibernate: select card0_.id as id1_0_, card0_.max_allowed as max_allo2_0_, card0_.max_manual as max_manu3_0_, card0_.number as number4_0_ from card card0_ where card0_.number=?
?[0m?[0;34m2023-03-17 16:58:40.030 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: call next value for hibernate_sequence
?[0m?[0;34mHibernate: insert into transaction (amount, date, feedback, ip, number, region, result, id) values (?, ?, ?, ?, ?, ?, ?, ?)
?[0m?[0;34m2023-03-17 16:58:40.038 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [931]
?[0m?[0;34m2023-03-17 16:58:40.038 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:40.038 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:40.039 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:40.039 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:40.039 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:40.039 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:40.039 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [50]
?[0m?[0;34mHibernate: select transactio0_.id as id1_3_, transactio0_.amount as amount2_3_, transactio0_.date as date3_3_, transactio0_.feedback as feedback4_3_, transactio0_.ip as ip5_3_, transactio0_.number as number6_3_, transactio0_.region as region7_3_, transactio0_.result as result8_3_ from transaction transactio0_ where transactio0_.number=? and (transactio0_.date between ? and ?)
?[0m?[0;34m2023-03-17 16:58:40.043 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:40.043 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T19:28]
?[0m?[0;34m2023-03-17 16:58:40.044 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34mHibernate: select stolencard0_.id as col_0_0_ from stolen_card stolencard0_ where stolencard0_.number=? limit ?
?[0m?[0;34m2023-03-17 16:58:40.048 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [4000008449433403]
?[0m?[0;34mHibernate: select suspicious0_.id as col_0_0_ from suspicious_ip suspicious0_ where suspicious0_.ip=? limit ?
?[0m?[0;34m2023-03-17 16:58:40.052 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34mHibernate: update transaction set amount=?, date=?, feedback=?, ip=?, number=?, region=?, result=? where id=?
?[0m?[0;34m2023-03-17 16:58:40.054 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [931]
?[0m?[0;34m2023-03-17 16:58:40.055 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [2022-01-23T20:28]
?[0m?[0;34m2023-03-17 16:58:40.055 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [INTEGER] - [null]
?[0m?[0;34m2023-03-17 16:58:40.055 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [192.168.1.1]
?[0m?[0;34m2023-03-17 16:58:40.055 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [4000008449433403]
?[0m?[0;34m2023-03-17 16:58:40.055 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [INTEGER] - [0]
?[0m?[0;34m2023-03-17 16:58:40.055 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [INTEGER] - [2]
?[0m?[0;34m2023-03-17 16:58:40.055 TRACE 16028 --- [io-28852-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [BIGINT] - [50]
?[0m</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 7.3.3</a> at Mar 17, 2023, 4:58:40 PM</p>
</div>
</div>
</body>
</html>
